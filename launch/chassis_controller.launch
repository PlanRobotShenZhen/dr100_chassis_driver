<?xml version="1.0"?>
<launch>
    <!-- 底盘控制器节点 -->
    <node name="chassis_controller" pkg="dr100_chassis_driver" type="chassis_controller" output="screen">
        <!-- 串口参数 -->
        <param name="port" value="/dev/dr100_classis" />
        <param name="baudrate" value="115200" />
        
        <!-- 速度限制参数 -->
        <param name="max_linear_velocity" value="2.0" />
        <param name="max_angular_velocity" value="2.0" />
        
        <!-- 控制参数 -->
        <param name="motor_enable" value="true" />
        <param name="cmd_timeout" value="1.0" />

        <!-- 话题名称参数 -->
        <param name="cmd_vel_topic" value="/cmd_vel" />
        <param name="odom_topic" value="/odom" />

        <!-- 坐标系参数 -->
        <param name="odom_frame_id" value="odom" />
        <param name="base_frame_id" value="base_link" />

        <!-- 里程计发布频率参数 -->
        <param name="odom_publish_rate" value="50.0" />

        <!-- 里程计TF发布参数 -->
        <param name="odom_publish_tf" value="false" />

        <!-- 设备控制话题参数 -->
        <param name="light_topic" value="/light_switch" />
        <param name="ultrasonic_topic" value="/ultrasonic_switch" />
        <param name="charge_topic" value="/charge_switch" />
        <param name="lidar_topic" value="/lidar_switch" />

        <!-- 安全控制话题参数 -->
        <param name="emergency_topic" value="/emergency_stop" />
        <param name="motor_enable_topic" value="/motor_enable" />

        <!-- 底盘状态监控话题参数 -->
        <param name="chassis_motor_enable_status_topic" value="/chassis/motor_enable_status" />
        <param name="chassis_fault_status_topic" value="/chassis/fault_status" />
        <param name="chassis_robot_status_topic" value="/chassis/robot_status" />
        <param name="chassis_diagnostics_topic" value="/chassis/diagnostics" />
        <param name="chassis_status_publish_rate" value="10.0" />

        <!-- 设备启用参数 -->
        <param name="enable_light" value="false" />
        <param name="enable_ultrasonic" value="false" />
        <param name="enable_charge" value="true" />
        <param name="enable_lidar" value="false" />
        <param name="enable_emergency" value="true" />
        <param name="enable_motor_enable" value="true" />
        <param name="enable_chassis_status" value="true" />

        <!-- 电池监控参数 -->
        <param name="battery_topic" value="/battery_state" />
        <param name="battery_publish_rate" value="10.0" />

        <!-- 重连参数 -->
        <param name="reconnect_interval" value="2.0" />
        <param name="max_reconnect_attempts" value="-1" />

        <!-- 调试参数 -->
        <param name="debug_output_enabled" value="false" />
    </node>
</launch>
